#: import ScrollEffect kivy.effects.scroll.ScrollEffect
#:import Clipboard kivy.core.clipboard.Clipboard
########################################################################################################################
##################################################   SCREENS   #########################################################
########################################################################################################################
<ToDoListScreen>:
    name: "ToDoListScreen"
    md_bg_color: app.light_sky_blue

    BoxLight:

        BoxDark:
            size_hint: (1, None)
            height: title.height + loading_text.height + dp(25)

            TextInput:
                id: title
                background_color: (0, 0, 0 ,0)
                foreground_color: app.black # Color of input text
                cursor_color: app.black
                hint_text_color:app.half_black
                hint_text: "TO-DO LIST"
                font_name: app.font_bold
                font_size: "25dp"
                halign: "center"
                size_hint: (1, None)
                height: "75dp"
                multiline: False
                padding: ["0dp", "25dp", "0dp", "0dp"]

            NormalText:
                id: loading_text
                text: "LOADING..."

        MyMenu2:
            id: my_menu2

        MyMenu:
            id: my_menu

        ScrollView:
            id: scrollview
            do_scroll_x: False
            do_scroll_y: True
            effect_cls: ScrollEffect
            adaptive_height: True
            bar_width: 0

            MDList:
                spacing: "5dp"
                id: my_list
########################################################################################################################
##################################################   WIDGETS   #########################################################
########################################################################################################################
<BoxDark@MDBoxLayout>:
    md_bg_color: app.sky_blue
    orientation: "vertical"

<BoxLight@MDBoxLayout>:
    md_bg_color: app.light_sky_blue
    orientation: "vertical"

<MyMenu@MDCard>:
    size_hint: (1, None)
    height: "50dp"
    radius: [0, 0, 0, 0]
    
    BoxDark:
        id: boxlay
        orientation: "horizontal"
        spacing: "5dp"

        MDIconButton:
            id: search_icon_button
            icon: "magnify"
            icon_size: "35dp"
            theme_text_color: "Custom"
            text_color: app.black
            ripple_scale: 0
            pos_hint: {"center_y": 0.5} 

        TextInput:
            id: search_text_input
            background_color: app.transparent
            foreground_color: app.black # Color of input text
            cursor_color: app.black
            hint_text_color:app.half_black
            hint_text: "Search for..."
            font_name: app.font_thin
            font_size: "15.5dp"
            size_hint: (None, None)
            width: boxlay.width - plus_icon_button.width - search_icon_button.width - close_icon_button.width - dp(15)
            height: boxlay.height
            multiline: False
            halign: "left"
            pos_hint: {"center_y": 0.5}
            padding: ["0dp", "15dp", "0dp", "0dp"]

        MDIconButton:
            id: close_icon_button
            icon: "window-close"
            icon_size: "35dp"
            theme_text_color: "Custom"
            text_color: app.black
            ripple_scale: 0
            pos_hint: {"center_y": 0.5}
            on_release: search_text_input.text = ""

        MDIconButton:
            id: plus_icon_button
            icon: "plus-circle-outline"
            icon_size: "35dp"
            theme_text_color: "Custom"
            text_color: app.black
            ripple_scale: 0
            pos_hint: {"center_y": 0.5}

<MyMenu2@MDCard>:
    size_hint: (1, None)
    height: "50dp"
    radius: [0, 0, 0, 0]
    
    BoxDark:
        id: boxlay
        orientation: "horizontal"
        spacing: "5dp"

        MDIconButton:
            id: copy_icon_button
            icon: "content-copy"
            icon_size: "35dp"
            theme_text_color: "Custom"
            text_color: app.black
            ripple_scale: 0
            pos_hint: {"center_y": 0.5}

        TextInput:
            id: restore_text_input
            background_color: app.transparent
            foreground_color: app.black # Color of input text
            cursor_color: app.black
            hint_text_color:app.half_black
            hint_text: "Restore old..."
            font_name: app.font_thin
            font_size: "15.5dp"
            size_hint: (None, None)
            width: boxlay.width - restore_icon_button.width - copy_icon_button.width - close_icon_button.width - dp(15)
            height: boxlay.height
            multiline: False
            halign: "left"
            pos_hint: {"center_y": 0.5}
            padding: ["0dp", "15dp", "0dp", "0dp"]

        MDIconButton:
            id: close_icon_button
            icon: "window-close"
            icon_size: "35dp"
            theme_text_color: "Custom"
            text_color: app.black
            ripple_scale: 0
            pos_hint: {"center_y": 0.5}
            on_release: restore_text_input.text = ""

        MDIconButton:
            id: restore_icon_button
            icon: "restore"
            icon_size: "35dp"
            theme_text_color: "Custom"
            text_color: app.black
            ripple_scale: 0
            pos_hint: {"center_y": 0.5}

<ListItem>:
    bg_color: app.light_sky_blue
    divider_color: app.black
    ripple_scale: 0

    MDBoxLayout:
        id: boxlay
        orientation: "horizontal"
        pos_hint: {"center_x": 0.5, "center_y": 0.5}

        MDCheckbox:
            id: checkbox_icon
            color_active: app.black
            color_inactive: app.black
            size_hint: (None, None)
            size: ("48dp", "48dp")
            pos_hint: {"center_y": 0.5}

        TextInput:
            id: name_text_input
            background_color: (0, 0, 0 ,0)
            foreground_color: app.black # Color of input text
            cursor_color: app.black
            hint_text_color:app.half_black
            text: root.title
            hint_text: "Name of\nto-do"
            font_name: app.font_thin
            font_size: "15.5dp"
            size_hint: (None, None)
            width: boxlay.width - checkbox_icon.width - trash_icon_button.width
            height: boxlay.height
            halign: "left"
            pos_hint: {"center_y": 0.5}

        MDIconButton:
            id: trash_icon_button
            icon: "trash-can-outline"
            icon_size: "25dp"
            theme_text_color: "Custom"
            text_color: app.black
            adaptive_size: True
            pos_hint: {"center_y": 0.5}
            ripple_scale: 0
            on_release:
                root.delete_item()
                
########################################################################################################################
<NormalText@MDLabel>:
    theme_text_color: "Custom"
    text_color: app.black
    font_name: app.font_thin
    font_size: "15.5dp"
    halign: "center"
    size_hint: (1, None)
    height: "50dp"
